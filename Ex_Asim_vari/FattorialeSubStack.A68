		ORG		$8000
MAIN		SUB.L		#2,SP
		MOVE.W	NUM,-(SP)
		JSR		FATT
		ADD.L		#2,SP
		MOVE.W	(SP)+,RES
		STOP		#$2700

		ORG		$8800
NUM		DC.W		8
RES		DS.W		1

		ORG		$8400
OFFN		EQU		8
OFFR		EQU		10
FATT		LINK		A6,#0
		MOVEM.L	D0/D1,-(SP)
		MOVE		OFFN(A6),D0
		MOVE		#1,D1
LOOP		TST		D0
		BEQ		EXIT
		MULU		D0,D1
		SUB		#1,D0
		BNE		LOOP
EXIT		STOP		#$2700
		MOVE		D1,OFFR(A6)
		MOVEM.L	(SP)+,D0/D1
		UNLK		A6
		RTS
		END		MAIN
